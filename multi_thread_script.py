import os
import threading
import datetime
cmd_list=['python3 -m compressai.utils.eval_model checkpoint /GOODDATA/SCC/CLIC2020/prof_val/valid -a bmshj2018-factorized -p /home/zhuyiran/CompressAI/bmshj2018-factorized_checkpoint_best_loss.pth.tar', 'python3 -m compressai.utils.eval_model checkpoint /GOODDATA/SCC/CLIC2020/prof_val/valid -a bmshj2018-factorized -p /home/zhuyiran/CompressAI/bmshj2018-factorized_checkpoint.pth.tar', 'python3 -m compressai.utils.eval_model checkpoint /GOODDATA/zhuyiran/kodak -a bmshj2018-factorized -p /home/zhuyiran/CompressAI/bmshj2018-factorized_checkpoint_best_loss.pth.tar', 'python3 -m compressai.utils.eval_model checkpoint /GOODDATA/zhuyiran/kodak -a bmshj2018-factorized -p /home/zhuyiran/CompressAI/bmshj2018-factorized_checkpoint.pth.tar', 'python3 -m compressai.utils.eval_model checkpoint /GOODDATA/SCC/CLIC2020/prof_val/valid -a bmshj2018-hyperprior -p /home/zhuyiran/CompressAI/bmshj2018-hyperprior_checkpoint_best_loss.pth.tar', 'python3 -m compressai.utils.eval_model checkpoint /GOODDATA/SCC/CLIC2020/prof_val/valid -a bmshj2018-hyperprior -p /home/zhuyiran/CompressAI/bmshj2018-hyperprior_checkpoint.pth.tar', 'python3 -m compressai.utils.eval_model checkpoint /GOODDATA/zhuyiran/kodak -a bmshj2018-hyperprior -p /home/zhuyiran/CompressAI/bmshj2018-hyperprior_checkpoint_best_loss.pth.tar', 'python3 -m compressai.utils.eval_model checkpoint /GOODDATA/zhuyiran/kodak -a bmshj2018-hyperprior -p /home/zhuyiran/CompressAI/bmshj2018-hyperprior_checkpoint.pth.tar', 'python3 -m compressai.utils.eval_model checkpoint /GOODDATA/SCC/CLIC2020/prof_val/valid -a mbt2018-mean -p /home/zhuyiran/CompressAI/mbt2018-mean_checkpoint_best_loss.pth.tar', 'python3 -m compressai.utils.eval_model checkpoint /GOODDATA/SCC/CLIC2020/prof_val/valid -a mbt2018-mean -p /home/zhuyiran/CompressAI/mbt2018-mean_checkpoint.pth.tar', 'python3 -m compressai.utils.eval_model checkpoint /GOODDATA/zhuyiran/kodak -a mbt2018-mean -p /home/zhuyiran/CompressAI/mbt2018-mean_checkpoint_best_loss.pth.tar', 'python3 -m compressai.utils.eval_model checkpoint /GOODDATA/zhuyiran/kodak -a mbt2018-mean -p /home/zhuyiran/CompressAI/mbt2018-mean_checkpoint.pth.tar', 'python3 -m compressai.utils.eval_model checkpoint /GOODDATA/SCC/CLIC2020/prof_val/valid -a mbt2018 -p /home/zhuyiran/CompressAI/mbt2018_checkpoint_best_loss.pth.tar', 'python3 -m compressai.utils.eval_model checkpoint /GOODDATA/SCC/CLIC2020/prof_val/valid -a mbt2018 -p /home/zhuyiran/CompressAI/mbt2018_checkpoint.pth.tar', 'python3 -m compressai.utils.eval_model checkpoint /GOODDATA/zhuyiran/kodak -a mbt2018 -p /home/zhuyiran/CompressAI/mbt2018_checkpoint_best_loss.pth.tar', 'python3 -m compressai.utils.eval_model checkpoint /GOODDATA/zhuyiran/kodak -a mbt2018 -p /home/zhuyiran/CompressAI/mbt2018_checkpoint.pth.tar', 'python3 -m compressai.utils.eval_model checkpoint /GOODDATA/SCC/CLIC2020/prof_val/valid -a cheng2020-anchor -p /home/zhuyiran/CompressAI/cheng2020-anchor_checkpoint_best_loss.pth.tar', 'python3 -m compressai.utils.eval_model checkpoint /GOODDATA/SCC/CLIC2020/prof_val/valid -a cheng2020-anchor -p /home/zhuyiran/CompressAI/cheng2020-anchor_checkpoint.pth.tar', 'python3 -m compressai.utils.eval_model checkpoint /GOODDATA/zhuyiran/kodak -a cheng2020-anchor -p /home/zhuyiran/CompressAI/cheng2020-anchor_checkpoint_best_loss.pth.tar', 'python3 -m compressai.utils.eval_model checkpoint /GOODDATA/zhuyiran/kodak -a cheng2020-anchor -p /home/zhuyiran/CompressAI/cheng2020-anchor_checkpoint.pth.tar', 'python3 -m compressai.utils.eval_model checkpoint /GOODDATA/SCC/CLIC2020/prof_val/valid -a cheng2020-attn -p /home/zhuyiran/CompressAI/cheng2020-attn_checkpoint_best_loss.pth.tar', 'python3 -m compressai.utils.eval_model checkpoint /GOODDATA/SCC/CLIC2020/prof_val/valid -a cheng2020-attn -p /home/zhuyiran/CompressAI/cheng2020-attn_checkpoint.pth.tar', 'python3 -m compressai.utils.eval_model checkpoint /GOODDATA/zhuyiran/kodak -a cheng2020-attn -p /home/zhuyiran/CompressAI/cheng2020-attn_checkpoint_best_loss.pth.tar', 'python3 -m compressai.utils.eval_model checkpoint /GOODDATA/zhuyiran/kodak -a cheng2020-attn -p /home/zhuyiran/CompressAI/cheng2020-attn_checkpoint.pth.tar']
def execCmd(cmd):
    print("命令%s开始运行%s" % (cmd, datetime.datetime.now()))
    os.system(cmd)
    print("命令%s结束运行%s" % (cmd, datetime.datetime.now()))
# 需要执行的命令列表
if_parallel = True
if if_parallel:
    # 并行
    threads = []
    for cmd in cmd_list:
        th = threading.Thread(target=execCmd, args=(cmd,))
        th.start()
        threads.append(th)

    # 等待线程运行完毕
    for th in threads:
        th.join()